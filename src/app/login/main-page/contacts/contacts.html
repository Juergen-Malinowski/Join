<section class="main-area">
  <article class="contacts-wrapper">
    <!-- Add contact button -->
    <button class="add-contact-btn text_4" (click)="onAddContact()" aria-label="Add a Contact">
      Add new contact
      <img class="add-contact-icon" src="/IMG/person_add.svg" alt="Add person icon" />
    </button>

    <!-- Contacts-SROLL-AREA -->
    <div class="contacts-scroll-area">
      <div *ngFor="let group of groupedContacts$ | async" class="contacts-group">
        <div class="group-letter text_6">{{ group.letter }}</div>

        <div *ngFor="let c of group.contacts" class="contact-box" (click)="onSelectContact(c.id)"
          [class.active]="selectedContactId() === c.id">
          <div class="contact-avatar" [style.backgroundColor]="c.color">
            {{ getInitials(c.name) }}
          </div>

          <div class="contact-info">
            <div class="contact-name text_3">{{ c.name }}</div>
            <div class="contact-email">{{ c.email }}</div>
          </div>
        </div>

        <img class="contact-divider" src="/IMG/Frame-120.svg" alt="divider" />
      </div>
    </div>
  </article>

  
  <!-- SINGLE-Contact -->
  <article class="single-contact">
    <header class="sc_header">
      <h2>Contacts</h2>
      <div class="seperator"></div>
      <p>Better with a team</p>
    </header>
    <app-single-contact *ngIf="selectedContactId() as id" [contactId]="id"></app-single-contact>
  </article>
</section>


<!-- Diolag add-contact -->
<app-dialog #addDialog class="add-contact-dialog">
  <div>

    <article class="sc_dialog">
      <!-- ------------------------- Dialog: Left Side -------------------------- -->
      <div class="left_side">
        <img src="IMG/Capa 1.png" alt="JOIN-Logo" />
        <span>Add contact</span>
        <p>Tasks are better with a team!</p>

        <div class="seperator"></div>
      </div>

      <!-- ---------------------------- Dialog: the middle ----------------------------- -->
      <div class="mid_side">
        <div class="logo_container">
          <img class="sc_logo" src="IMG/person.svg" alt="person-icon">
        </div>
      </div>

      <!-- ------------------------- Dialog: Right Side ------------------------- -->
      <div class="right_side">
        <button class="close" type="button" (click)="addDialog.close()">X</button>

        <article>
          <form class="contact_form">
            <label class="field">
              <input type="text" placeholder="Jane Doe" name="name" [(ngModel)]="formModel().name"/>
              <img src="IMG/person.svg" alt="" />
            </label>

            <label class="field">
              <input type="email" placeholder="example@provider.com" name="email" [(ngModel)]="formModel().email"/>
              <img src="IMG/mail.svg" alt="" />
            </label>

            <label class="field">
              <input type="tel" placeholder="+0 0000 000 00 0" name="phone" [(ngModel)]="formModel().phone"/>
              <img src="IMG/call.svg" alt="" />
            </label>
          </form>
        </article>

        <div class="dialog_buttons">
          <button class="button_light" type="button" (click)="addDialog.close()">Cancel</button>
          <button class="button_dark" type="button" (click)="saveNewContact()">
            Create contact
            <img src="/IMG/check_white.svg" alt="check icon">
          </button>
        </div>
      </div>
    </article>
  </div>
</app-dialog>
